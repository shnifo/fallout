<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>5x5 Weighted Grid Generator</title>
<style>
  body {
    background-color: #1e1e1e;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 10px;
  }
  h1 {
    margin-bottom: 10px;
    font-size: 1.5em;
  }
  .controls {
    display: inline-block;
    background-color: #2b2b2b;
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 15px;
    width: 90%;
    max-width: 350px;
  }
  .controls label {
    display: flex;
    justify-content: space-between;
    margin: 5px 0;
  }
  .controls input {
    width: 60px;
    text-align: right;
  }
  #grid {
    display: grid;
    grid-template-columns: 30px repeat(5, 1fr);
    gap: 4px;
    justify-items: center;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
  }
  .tile {
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border-radius: 8px;
    color: white;
    font-size: 2em;
    aspect-ratio: 1 / 1;
    width: 100%;
    max-width: 80px;
    user-select: none;
  }
  .label {
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1em;
    color: #ddd;
  }
  button {
    background-color: #444;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 1em;
    margin-top: 10px;
    border-radius: 6px;
    cursor: pointer;
  }
  button:hover {
    background-color: #666;
  }
  @media (max-width: 400px) {
    .tile {
      font-size: 1.5em;
    }
    .controls {
      width: 95%;
    }
  }
</style>
</head>
<body>

<h1>5x5 Weighted Grid Generator</h1>

<div class="controls">
  <h3>Tile Weighting</h3>
  <label>üí£ Explosive: <input type="number" id="explosive" value="1" step="0.1"></label>
  <label>üß± Cover: <input type="number" id="cover" value="1" step="0.1"></label>
  <label>ü™® Ruins: <input type="number" id="ruins" value="1" step="0.1"></label>
  <label>‚≠ê Special: <input type="number" id="special" value="1" step="0.1"></label>
  <label>‚ùå Impassible: <input type="number" id="impassible" value="1" step="0.1"></label>
  <label>‚¨õ Blank: <input type="number" id="blank" value="1" step="0.1"></label>
  <br>
  <button onclick="generateGrid()">Generate Grid</button>
</div>

<div id="grid"></div>

<script>
  const tileTypes = [
    { name: "Explosive", symbol: "üí£", color: "#e25822" },
    { name: "Cover", symbol: "üß±", color: "#888888" },
    { name: "Ruins", symbol: "ü™®", color: "#6b4f3a" },
    { name: "Special", symbol: "‚≠ê", color: "#e6c200" },
    { name: "Impassible", symbol: "‚ùå", color: "#4a148c" },
    { name: "Blank", symbol: "", color: "#2b2b2b" }
  ];

  const rowLabels = ["A","B","C","D","E"];
  const colLabels = ["1","2","3","4","5"];

  function generateGrid() {
    const weights = [
      parseFloat(document.getElementById("explosive").value),
      parseFloat(document.getElementById("cover").value),
      parseFloat(document.getElementById("ruins").value),
      parseFloat(document.getElementById("special").value),
      parseFloat(document.getElementById("impassible").value),
      parseFloat(document.getElementById("blank").value)
    ];

    const totalWeight = weights.reduce((a, b) => a + b, 0);
    const probabilities = weights.map(w => w / totalWeight);

    const gridContainer = document.getElementById("grid");
    gridContainer.innerHTML = "";

    // Top-left empty corner
    const corner = document.createElement("div");
    corner.className = "label";
    gridContainer.appendChild(corner);

    // Column labels
    for (let c = 0; c < colLabels.length; c++) {
      const colLabel = document.createElement("div");
      colLabel.className = "label";
      colLabel.textContent = colLabels[c];
      gridContainer.appendChild(colLabel);
    }

    // Rows
    for (let r = 0; r < 5; r++) {
      // Row label
      const rowLabel = document.createElement("div");
      rowLabel.className = "label";
      rowLabel.textContent = rowLabels[r];
      gridContainer.appendChild(rowLabel);

      // Tiles
      for (let c = 0; c < 5; c++) {
        const tileType = weightedRandom(tileTypes, probabilities);
        const tile = document.createElement("div");
        tile.className = "tile";
        tile.style.backgroundColor = tileType.color;
        tile.textContent = tileType.symbol;
        gridContainer.appendChild(tile);
      }
    }
  }

  function weightedRandom(items, probabilities) {
    let r = Math.random();
    let sum = 0;
    for (let i = 0; i < items.length; i++) {
      sum += probabilities[i];
      if (r <= sum) return items[i];
    }
    return items[items.length - 1];
  }

  generateGrid();
</script>

</body>
</html>
