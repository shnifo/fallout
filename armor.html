<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Integer Distributor</title>
<style>
body {
    font-family: system-ui, sans-serif;
    background: #1e1e2f;
    color: #eee;
    margin: 0;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}

h1 { font-size: 1.5rem; margin-bottom: 1rem; text-align: center; }

.container {
    background: #2a2a40;
    padding: 1rem;
    border-radius: 1rem;
    width: 100%;
    max-width: 400px;
    box-sizing: border-box;
}

input[type="number"], input[type="range"], button {
    width: 100%;
    padding: 0.5rem;
    border-radius: 0.5rem;
    border: none;
    text-align: center;
    margin-bottom: 0.8rem;
    font-size: 1rem;
}

button { background-color: #4e8cff; color: white; cursor: pointer; }
button:hover { background-color: #2a6ce2; }

.results { margin-top: 0.5rem; }

.bars {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    height: 150px;
    margin-top: 0.8rem;
}

.bar-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 22%;
}

.bar {
    width: 100%;
    border-radius: 0.3rem;
    min-height: 5px;
    transition: height 0.3s ease;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    color: #fff;
    font-size: 1rem; /* bigger text */
    font-weight: bold;
    overflow: hidden;
    text-shadow:
       -1px -1px 0 #000,
        1px -1px 0 #000,
       -1px 1px 0 #000,
        1px 1px 0 #000; /* black outline */
}

/* Swapped colors */
#bar1 { background: linear-gradient(180deg, #ff5e5e, #d43e3e); }   /* Physical */
#bar2 { background: linear-gradient(180deg, #5ec8ff, #2e9ed4); }   /* Energy */
#bar3 { background: linear-gradient(180deg, #ffbd5e, #e68b2e); }   /* Explosive */
#bar4 { background: linear-gradient(180deg, #5eff7d, #2ed451); }   /* Rad */

.label { margin-top: 0.3rem; font-size: 0.8rem; color: #ccc; text-align: center; }
</style>
</head>
<body>
<h1>ðŸŽ² Integer Distributor</h1>
<div class="container">
    <label>Enter an integer:</label>
    <input type="number" id="inputValue" min="1" value="100">

    <label>Distribution Evenness: <span id="evennessLabel">0.5</span></label>
    <input type="range" id="evennessSlider" min="0" max="1" step="0.01" value="0.5">

    <button onclick="distribute()">Distribute</button>

    <div class="results">
        <div class="bars">
            <div class="bar-container">
                <div class="bar" id="bar1"><span></span></div>
                <div class="label">Physical</div>
            </div>
            <div class="bar-container">
                <div class="bar" id="bar2"><span></span></div>
                <div class="label">Energy</div>
            </div>
            <div class="bar-container">
                <div class="bar" id="bar3"><span></span></div>
                <div class="label">Explosive</div>
            </div>
            <div class="bar-container">
                <div class="bar" id="bar4"><span></span></div>
                <div class="label">Rad</div>
            </div>
        </div>
    </div>
</div>

<script>
const slider = document.getElementById('evennessSlider');
const label = document.getElementById('evennessLabel');
slider.addEventListener('input', () => label.textContent = slider.value);

function distribute() {
    const total = parseInt(document.getElementById('inputValue').value);
    const evenness = parseFloat(slider.value);
    let base = total / 4;
    let parts = [];

    if (evenness === 0) {
        parts = [base, base, base, base];
    } else {
        let deviations = Array.from({ length: 4 }, () => (Math.random() * 2 - 1) * evenness);
        const totalDev = deviations.reduce((a, b) => a + b, 0);
        deviations = deviations.map(d => d - totalDev / 4);
        parts = deviations.map(d => base + base * d);

        const factor = total / parts.reduce((a, b) => a + b, 0);
        parts = parts.map(p => Math.round(p * factor));

        let diff = total - parts.reduce((a, b) => a + b, 0);
        for (let i = 0; i < Math.abs(diff); i++) parts[i % 4] += diff > 0 ? 1 : -1;
    }

    const containerHeight = 150;
    const maxVal = Math.max(...parts, 1);
    parts.forEach((p,i)=>{
        const bar = document.getElementById('bar'+(i+1));
        bar.style.height = (p/maxVal*containerHeight) + 'px';
        bar.querySelector('span').textContent = p; // show value on bar
    });
}

// Initialize bars on page load
window.onload = distribute();
</script>
</body>
</html>
